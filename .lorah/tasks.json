[
  {
    "name": "LoadConfig for .lnkconfig format",
    "description": "Implement config file discovery and parsing for new stow-style .lnkconfig format (CLI flags, one per line) with precedence: .lnkconfig in source dir, XDG config, ~/.lnkconfig",
    "passes": true
  },
  {
    "name": "Parse .lnkignore file",
    "description": "Add function to parse .lnkignore file in source directory using gitignore syntax",
    "passes": true
  },
  {
    "name": "Merge config with CLI flags",
    "description": "Implement config merging logic where CLI flags take precedence over config file values",
    "passes": false
  },
  {
    "name": "LinkOptions struct",
    "description": "Add LinkOptions struct to linker.go with fields: SourceDir, TargetDir, Packages, IgnorePatterns, DryRun",
    "passes": false
  },
  {
    "name": "CreateLinksWithOptions function",
    "description": "Implement CreateLinksWithOptions(opts LinkOptions) error that handles package-based linking",
    "passes": false
  },
  {
    "name": "RemoveLinksWithOptions function",
    "description": "Implement RemoveLinksWithOptions(opts LinkOptions) error that handles package-based removal",
    "passes": false
  },
  {
    "name": "StatusWithOptions function",
    "description": "Implement StatusWithOptions(opts LinkOptions) error that shows status for specific packages",
    "passes": false
  },
  {
    "name": "PruneWithOptions function",
    "description": "Implement PruneWithOptions(opts LinkOptions) error that prunes broken links for specific packages",
    "passes": false
  },
  {
    "name": "Refactor collectPlannedLinks",
    "description": "Update collectPlannedLinks to take ignorePatterns []string instead of *Config and work with package paths",
    "passes": false
  },
  {
    "name": "FindManagedLinksForSources function",
    "description": "Add FindManagedLinksForSources(startPath string, sources []string) to link_utils.go for finding managed links from specific source packages",
    "passes": false
  },
  {
    "name": "CLI action flags parsing",
    "description": "Implement flag parsing for action flags: -C/--create, -R/--remove, -S/--status, -P/--prune, -A/--adopt, -O/--orphan (mutually exclusive)",
    "passes": false
  },
  {
    "name": "CLI directory flags parsing",
    "description": "Implement flag parsing for directory flags: -s/--source DIR (default: '.'), -t/--target DIR (default: '~')",
    "passes": false
  },
  {
    "name": "CLI other flags parsing",
    "description": "Implement flag parsing for: --ignore PATTERN (repeatable), -n/--dry-run, -v/--verbose, -q/--quiet, --no-color, -V/--version, -h/--help",
    "passes": false
  },
  {
    "name": "CLI package arguments handling",
    "description": "Parse positional arguments as packages (at least one required for link operations, can be '.' or subdirectory paths)",
    "passes": false
  },
  {
    "name": "Remove subcommand routing",
    "description": "Remove old subcommand-based routing from main.go and replace with flag-based action dispatch",
    "passes": false
  },
  {
    "name": "Update CLI help text",
    "description": "Update help messages to reflect new flag-based interface matching stow-like usage",
    "passes": false
  },
  {
    "name": "Update adopt for new interface",
    "description": "Modify adopt.go to work with --adopt flag + packages instead of --path and --source-dir",
    "passes": false
  },
  {
    "name": "Update orphan for new interface",
    "description": "Modify orphan.go to work with --orphan PATH flag instead of --path",
    "passes": false
  },
  {
    "name": "Update prune for new interface",
    "description": "Modify prune to work with --prune flag + optional packages",
    "passes": false
  },
  {
    "name": "Unit tests for config parsing",
    "description": "Add unit tests for .lnkconfig file discovery, parsing, and precedence logic",
    "passes": false
  },
  {
    "name": "Unit tests for .lnkignore parsing",
    "description": "Add unit tests for .lnkignore file parsing with gitignore syntax",
    "passes": false
  },
  {
    "name": "Unit tests for *WithOptions functions",
    "description": "Add unit tests for all *WithOptions functions (Create, Remove, Status, Prune)",
    "passes": false
  },
  {
    "name": "E2E tests for new CLI syntax",
    "description": "Rewrite e2e tests to use new flag-based CLI syntax instead of subcommands",
    "passes": false
  },
  {
    "name": "Verification examples",
    "description": "Run all verification examples from spec.md to ensure they work correctly",
    "passes": false
  }
]
